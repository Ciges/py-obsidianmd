{
    "tests": {
        "description": "tests related to the Frontmatter object",
        "tests-add": {
            "n2_1": {
                "description": "add a string",
                "data": "n2",
                "inputs": {
                    "meta_type": "frontmatter",
                    "k": "tags",
                    "l": "t4",
                    "overwrite": false
                },
                "expected_output": {
                    "meta_dict": {
                        "tags": [
                            "t1",
                            "t2",
                            "t3",
                            "t4"
                        ],
                        "meta2": [
                            "1",
                            "2",
                            "3"
                        ],
                        "meta3": [
                            "foo",
                            "b bar"
                        ],
                        "meta4": [
                            "\"foo\"",
                            "\"b bar\""
                        ]
                    }
                }
            },
            "n2_2": {
                "description": "add a list of strings",
                "data": "n2",
                "inputs": {
                    "meta_type": "frontmatter",
                    "k": "meta2",
                    "l": [
                        "asd",
                        "qzf"
                    ],
                    "overwrite": false
                },
                "expected_output": {
                    "meta_dict": {
                        "tags": [
                            "t1",
                            "t2",
                            "t3"
                        ],
                        "meta2": [
                            "1",
                            "2",
                            "3",
                            "asd",
                            "qzf"
                        ],
                        "meta3": [
                            "foo",
                            "b bar"
                        ],
                        "meta4": [
                            "\"foo\"",
                            "\"b bar\""
                        ]
                    }
                }
            },
            "n2_3": {
                "description": "add an int",
                "data": "n2",
                "inputs": {
                    "meta_type": "frontmatter",
                    "k": "meta3",
                    "l": 999,
                    "overwrite": false
                },
                "expected_output": {
                    "meta_dict": {
                        "tags": [
                            "t1",
                            "t2",
                            "t3"
                        ],
                        "meta2": [
                            "1",
                            "2",
                            "3"
                        ],
                        "meta3": [
                            "foo",
                            "b bar",
                            "999"
                        ],
                        "meta4": [
                            "\"foo\"",
                            "\"b bar\""
                        ]
                    }
                }
            },
            "n2_4": {
                "description": "add and overwrite",
                "data": "n2",
                "inputs": {
                    "meta_type": "frontmatter",
                    "k": "meta3",
                    "l": 999,
                    "overwrite": true
                },
                "expected_output": {
                    "meta_dict": {
                        "tags": [
                            "t1",
                            "t2",
                            "t3"
                        ],
                        "meta2": [
                            "1",
                            "2",
                            "3"
                        ],
                        "meta3": [
                            "999"
                        ],
                        "meta4": [
                            "\"foo\"",
                            "\"b bar\""
                        ]
                    }
                }
            },
            "n2_5": {
                "description": "add a metadata that didn't exist, with no value",
                "data": "n2",
                "inputs": {
                    "meta_type": "frontmatter",
                    "k": "newmeta",
                    "l": null,
                    "overwrite": false
                },
                "expected_output": {
                    "meta_dict": {
                        "tags": [
                            "t1",
                            "t2",
                            "t3"
                        ],
                        "meta2": [
                            "1",
                            "2",
                            "3"
                        ],
                        "meta3": [
                            "foo",
                            "b bar"
                        ],
                        "meta4": [
                            "\"foo\"",
                            "\"b bar\""
                        ],
                        "newmeta": []
                    }
                }
            },
            "n2_6": {
                "description": "add a metadata that didn't exist, with values",
                "data": "n2",
                "inputs": {
                    "meta_type": "frontmatter",
                    "k": "newmeta2",
                    "l": [
                        1,
                        2
                    ],
                    "overwrite": false
                },
                "expected_output": {
                    "meta_dict": {
                        "tags": [
                            "t1",
                            "t2",
                            "t3"
                        ],
                        "meta2": [
                            "1",
                            "2",
                            "3"
                        ],
                        "meta3": [
                            "foo",
                            "b bar"
                        ],
                        "meta4": [
                            "\"foo\"",
                            "\"b bar\""
                        ],
                        "newmeta2": [
                            "1",
                            "2"
                        ]
                    }
                }
            }
        },
        "tests-remove": {
            "n2_1": {
                "description": "remove one element",
                "data": "n2",
                "inputs": {
                    "meta_type": "frontmatter",
                    "k": "tags",
                    "l": "t2"
                },
                "expected_output": {
                    "meta_dict": {
                        "tags": [
                            "t1",
                            "t3"
                        ],
                        "meta2": [
                            "1",
                            "2",
                            "3"
                        ],
                        "meta3": [
                            "foo",
                            "b bar"
                        ],
                        "meta4": [
                            "\"foo\"",
                            "\"b bar\""
                        ]
                    }
                }
            },
            "n2_2": {
                "description": "remove multiple elements",
                "data": "n2",
                "inputs": {
                    "meta_type": "frontmatter",
                    "k": "meta2",
                    "l": [
                        1,
                        3
                    ]
                },
                "expected_output": {
                    "meta_dict": {
                        "tags": [
                            "t1",
                            "t2",
                            "t3"
                        ],
                        "meta2": [
                            "2"
                        ],
                        "meta3": [
                            "foo",
                            "b bar"
                        ],
                        "meta4": [
                            "\"foo\"",
                            "\"b bar\""
                        ]
                    }
                }
            },
            "n2_3": {
                "data": "n2",
                "description": "entirely remove a metadata",
                "inputs": {
                    "meta_type": "frontmatter",
                    "k": "meta4",
                    "l": null
                },
                "expected_output": {
                    "meta_dict": {
                        "tags": [
                            "t1",
                            "t2",
                            "t3"
                        ],
                        "meta2": [
                            "1",
                            "2",
                            "3"
                        ],
                        "meta3": [
                            "foo",
                            "b bar"
                        ]
                    }
                }
            },
            "n2_4": {
                "data": "n2",
                "description": "remove all elements of an entry",
                "inputs": {
                    "meta_type": "frontmatter",
                    "k": "meta2",
                    "l": [
                        1,
                        2,
                        3
                    ]
                },
                "expected_output": {
                    "meta_dict": {
                        "tags": [
                            "t1",
                            "t2",
                            "t3"
                        ],
                        "meta2": [],
                        "meta3": [
                            "foo",
                            "b bar"
                        ],
                        "meta4": [
                            "\"foo\"",
                            "\"b bar\""
                        ]
                    }
                }
            },
            "n2_5": {
                "description": "remove an entry that doesn't exist",
                "data": "n2",
                "inputs": {
                    "meta_type": "frontmatter",
                    "k": "unk",
                    "l": null
                },
                "expected_output": {
                    "meta_dict": {
                        "tags": [
                            "t1",
                            "t2",
                            "t3"
                        ],
                        "meta2": [
                            "1",
                            "2",
                            "3"
                        ],
                        "meta3": [
                            "foo",
                            "b bar"
                        ],
                        "meta4": [
                            "\"foo\"",
                            "\"b bar\""
                        ]
                    }
                }
            }
        },
        "tests-remove_duplicate_values": {
            "n4_1": {
                "description": "duplicate removal on 1 specific key",
                "data": "n4",
                "inputs": {
                    "meta_type": "inline",
                    "k": "c3"
                },
                "expected_output": {
                    "meta_dict": {
                        "c1": [
                            "foo",
                            "foo bar"
                        ],
                        "c2": [
                            "foo",
                            "foo bar",
                            "biz",
                            "baz"
                        ],
                        "c3": [
                            "3",
                            "4",
                            "5"
                        ],
                        "tags": [
                            "t4",
                            "t5",
                            "t6",
                            "t5"
                        ]
                    }
                }
            },
            "n4_2": {
                "description": "duplicate removal on all keys",
                "data": "n4",
                "inputs": {
                    "meta_type": "inline",
                    "k": null
                },
                "expected_output": {
                    "meta_dict": {
                        "c1": [
                            "foo",
                            "foo bar"
                        ],
                        "c2": [
                            "foo",
                            "foo bar",
                            "biz",
                            "baz"
                        ],
                        "c3": [
                            "3",
                            "4",
                            "5"
                        ],
                        "tags": [
                            "t4",
                            "t5",
                            "t6"
                        ]
                    }
                }
            },
            "n4_3": {
                "description": "duplicate removal on a list of keys",
                "data": "n4",
                "inputs": {
                    "meta_type": "inline",
                    "k": [
                        "c3",
                        "c1"
                    ]
                },
                "expected_output": {
                    "meta_dict": {
                        "c1": [
                            "foo",
                            "foo bar"
                        ],
                        "c2": [
                            "foo",
                            "foo bar",
                            "biz",
                            "baz"
                        ],
                        "c3": [
                            "3",
                            "4",
                            "5"
                        ],
                        "tags": [
                            "t4",
                            "t5",
                            "t6",
                            "t5"
                        ]
                    }
                }
            }
        }
    }
}